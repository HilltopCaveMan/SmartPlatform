@model GModel.Basic.UserInfo

@using (Ajax.BeginForm("EditPWD", "Account", null, new AjaxOptions()))
{
    <div class="stdform" style="padding:20px 70px 10px 60px">
        <p>
            <label>当前用户</label>
            <span class="field">
                <input type="text" value="@Model.UserLname" disabled="disabled" class="textbox" />
                @Html.HiddenFor(m => m.UserLname)
                <b>
                    @Html.ValidationMessageFor(model => model.UserLname)
                </b>
            </span>
        </p>
        <p>
            <label><i>*</i>当前密码</label>
            <span class="field">
                @Html.TextBoxFor(m => m.OldPasswrd, new { @class = "textbox1", type = "password" })
                <b>
                    @Html.ValidationMessageFor(model => model.OldPasswrd)
                </b>
            </span>
        </p>
        <p>
            <label><i>*</i>新 密 码</label>
            <span class="field">
                @Html.TextBoxFor(m => m.UserPasswrd, new { @class = "textbox1", type = "password" })
                <b>
                    @Html.ValidationMessageFor(model => model.UserPasswrd)
                </b>
            </span>
        </p>
        <p>
            <label><i>*</i>确定密码</label>
            <span class="field">
                @Html.TextBoxFor(m => m.UserRePasswrd, new { @class = "textbox1", type = "password"})
                <b>
                    @Html.ValidationMessageFor(model => model.UserRePasswrd)
                </b>
            </span>
        </p>
    </div>
    <div class="formfooter">
        <button class="stdbtn btn_blue" type="submit">确定</button>
        <button class="stdbtn btn_default" type="button" onclick="clearForm()">取消</button>
    </div>
}    
<style>
    .textbox1 {
        width: 190px;
        height: 25px;
        border: 1px solid #ccc;
    }
</style>
<script type="text/javascript">
 
    function clearForm() {
        window.parent.$('.PwdDialog').dialog('close');
    };

    function editFormSucceed() {
        window.parent.$('.PwdDialog').dialog('close');
        window.parent.$.messager.show({
            title: '提示',
            msg: "修改成功！",
            timeout: 2000
        });
    };

    function editFormError() {
        window.parent.$('.PwdDialog').dialog('close');
        window.parent.$.messager.show({
            title: '提示',
            msg: "修改失败！",
            timeout: 2000
        });
    };
</script>
